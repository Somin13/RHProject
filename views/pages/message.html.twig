{% extends "../layouts/base.html.twig" %}

{% block style %}
	<link rel="stylesheet" href="/assets/css/tailwind.css">
{% endblock %}

{% block title %}
	<title>{{ title }}</title>
{% endblock %}

{% block main %}
	<div class="min-h-screen bg-gradient-to-b from-gray-900 to-gray-950 via-purple-900">
		<div class="p-4 xl:ml-80">

        <div class="relative w-full h-32 md:h-44 lg:h-56 bg-cover bg-center mb-6" style="background-image: url('https://static.vecteezy.com/ti/vecteur-libre/p1/26531308-ultra-violet-neon-laser-lignes-la-technologie-moderne-contexte-vectoriel.jpg');">
				<div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center">
					<h2 class="text-white text-lg md:text-2xl lg:text-4xl font-bold text-center">
						Messagerie
					</h2>
				</div>
			</div>
			<div class="container mx-auto shadow-lg rounded-lg">
				<!-- Header -->
				<div class="px-5 py-5 flex justify-between items-center bg-purple-900 border-b-2 text-white rounded-t-lg">
					<div class="font-semibold text-2xl">GoingChat</div>
					<div class="w-1/2">
						<input type="text" placeholder="Rechercher..." class="rounded-2xl bg-gray-800 py-3 px-5 w-full text-white">
					</div>
					<div class="h-12 w-12 p-2 bg-yellow-500 rounded-full text-white font-semibold flex items-center justify-center">
						RS
					</div>
				</div>
				<!-- End Header -->

				<!-- Chatting -->
				<div class="flex flex-row justify-between bg-gray-950">
					<!-- Chat List -->
					<div class="flex flex-col w-2/5 border-r-2 border-gray-700 overflow-y-auto">
						<!-- Search -->
						<div class="border-b-2 border-gray-700 py-4 px-2">
							<input type="text" placeholder="Rechercher une conversation" class="py-2 px-2 border-2 border-gray-600 bg-gray-800 rounded-2xl w-full text-white">
						</div>
						<!-- End Search -->

						<!-- User List -->
						{% for user in users %}
						<div class="flex flex-row py-4 px-2 items-center border-b-2 border-gray-700 hover:bg-purple-950 hover:shadow-lg">
							<div class="w-1/4">
								<img src="{{ user.avatar }}" class="object-cover h-12 w-12 rounded-full" alt="">
							</div>
							<div class="w-full">
								<div class="text-lg font-semibold text-white">{{ user.name }}</div>
								<span class="text-gray-400">{{ user.lastMessage }}</span>
							</div>
						</div>
						{% endfor %}
						<!-- End User List -->
					</div>
					<!-- End Chat List -->

					<!-- Messages -->
					<div class="w-full px-5 flex flex-col justify-between">
						<div class="flex flex-col mt-5">
							{% for message in messages %}
							<div class="flex {% if message.isUser %}justify-end{% else %}justify-start{% endif %} mb-4">
								{% if not message.isUser %}
									<img src="{{ message.avatar }}" class="object-cover h-8 w-8 rounded-full" alt="">
								{% endif %}
								<div class="ml-2 py-3 px-4 {% if message.isUser %}bg-purple-700{% else %}bg-gray-700{% endif %} rounded-2xl text-white">
									{{ message.text }}
								</div>
							</div>
							{% endfor %}
						</div>
						<div class="py-5">
							<input class="w-full bg-gray-800 py-5 px-3 rounded-xl text-white" type="text" placeholder="Écrire un message...">
						</div>
					</div>
					<!-- End Messages -->

					<!-- Group Info -->
					<div class="w-2/5 border-l-2 border-gray-700 px-5">
						<div class="flex flex-col text-white">
							<div class="font-semibold text-xl py-4">Détails du groupe</div>
							<img src="https://source.unsplash.com/L2cxSuKWbpo/600x600" class="object-cover rounded-xl h-64" alt="">
							<div class="font-semibold py-4">Créé le 22 Sep 2021</div>
							<div class="font-light text-gray-400">
								Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt, perspiciatis!
							</div>
						</div>
					</div>
					<!-- End Group Info -->
				</div>
				<!-- End Chatting -->
			</div>
		</div>
	</div>
{% endblock %}
